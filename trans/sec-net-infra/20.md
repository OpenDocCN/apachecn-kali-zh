# 修补和安全加固

本章旨在了解修补和安全强化的各个方面。您将了解修补的重要性，以及枚举目标系统上修补级别的实用技术，并将制定用于强化基础设施安全性的安全配置指南。

我们将在本章中学习以下主题：

*   定义修补
*   Windows 和 Linux 上的修补程序枚举
*   安全强化和安全配置审查简介
*   利用**互联网安全中心**（**CIS**基准进行强化

# 定义修补？

通常，一个软件在经过整个 SDLC 之后得到开发，然后公开发布。我们通常认为它将满足所有功能需求，并对潜在威胁具有安全性。但是，软件中的某些功能可能被错误地破坏，从而允许攻击者利用潜在漏洞进行攻击。现在，一旦知道确切的问题，供应商就会尽快修补受影响的软件组件。

一旦补丁准备好，它将通过官方渠道分发给所有客户。但是，客户需要确保在其系统上应用正确且最新的修补程序。否则，系统将容易受到严重威胁。这就需要一种系统化的方法来管理补丁。

最常见的漏洞是各种软件组件中缺少补丁的结果。因此，如果我们主动管理系统上的补丁，那么最常见的漏洞将得到解决。

补丁管理是一个定义良好、组织有序的过程，有助于在现有系统上识别、测试和应用各种补丁。

# 斑块计数

为了了解需要在任何给定系统上应用哪些修补程序，首先必须了解该系统上当前运行的软件版本及其当前修补程序级别。修补程序枚举是评估任何给定系统的当前修补程序级别的过程。一旦知道当前修补程序级别，就可以计划并应用进一步的修补程序更新。

# Windows 修补程序枚举

随着大量流行和广泛使用的产品，微软向其客户频繁发布补丁更新。微软通常在每个月的第二个星期二发布补丁。以下屏幕截图显示了 Microsoft 修补程序更新站点，其中包含最新修补程序版本的信息：

![](assets/9c28e15e-22c1-4fcb-98b6-d33cef2284be.png)

如果没有集中的补丁管理系统，您可以从前面的屏幕截图所示的门户单独下载和应用 Microsoft 补丁。

在计划更新之前，了解系统上修补程序的当前状态非常重要。为了简化此任务，Microsoft 提供了一个名为**Microsoft 基线安全分析器**（**MBSA**的实用程序。此实用程序可从[下载 https://www.microsoft.com/en-in/download/details.aspx?id=7558](https://www.microsoft.com/en-in/download/details.aspx?id=7558) 。

以下屏幕截图显示 MBSA 的启动屏幕：

![](assets/2c946b8b-2e3d-4e2f-8421-0124feca92f5.png)

我们可以选择 Scan a computer（扫描计算机）选项并进入下一屏幕，如以下屏幕截图所示。然后，我们可以通过指定远程 IP 地址来扫描本地系统或远程系统。我们还可以选择哪些内容应作为评估的一部分：

![](assets/614cb88b-1c1a-4217-a9b9-60de6731d972.png)

单击开始扫描后，MBSA 开始对预定义目标运行评估，如以下屏幕截图所示：

![](assets/f965e1cc-79c4-40c4-babb-62ceac6b09e9.png)

扫描完成后，MBSA 将向我们提供详细的调查结果报告，如以下屏幕截图所示：

![](assets/93ac11da-bd9b-41ac-9211-6f8f52765ac0.png)

根据报告中的发现，我们可以决定通过应用缺失的修补程序和设置进行缓解。

# Linux 修补程序枚举

在上一节中，我们了解了如何使用 MBSA 评估任何 Microsoft 系统的安全性和修补程序级别。我们也可以在 Linux 系统上进行类似的评估。为了在 Linux 系统上执行安全性和补丁枚举，我们可以使用名为**Lynis**的工具，可在[上找到 https://cisofy.com/lynis/](https://cisofy.com/lynis/) 。

Lynis 是一个综合工具，可以有效地用于安全审计、法规遵从性测试、漏洞检测和系统强化。它几乎在所有基于 UNIX 的系统上运行。虽然它预装在某些 Linux 发行版中，如 Kali Linux，但您可能需要在其他 Linux 版本上单独安装它；请注意以下屏幕截图：

![](assets/4e697252-6f24-42d7-a6e1-6f6c63465baf.png)

Lynis 完成所有测试后，将在位置`/var/log/lynis.log`生成详细报告。该报告包含有关已评估系统的安全健康检查的所有信息。

# 安全强化和安全配置审查

当我们看到一个应用程序在我们的 web 浏览器中运行时，它只是冰山一角。有很多底层基础设施支持应用程序，通常包括 web 服务器、数据库服务器、操作系统等。因此，即使最终应用程序变得非常安全，底层基础设施组件也可能存在漏洞，允许攻击者危害系统。这就是安全强化的关键所在。

为了保护包括底层基础设施在内的完整应用程序生态系统，必须对所有参与组件执行安全配置审查，并相应加强安全性。实现这一点的一个简单方法是检查每个组件的配置文件，然后配置与安全性相关的项目。另一个更好的方法是使用行业标准的基准进行安全配置。**互联网安全中心**（**CIS**为各种平台提供安全基准。这些基准都经过了充分的研究和测试。

# 使用 CIS 基准

CIS 为各种平台（如服务器、操作系统、移动设备、浏览器等）提供安全基准。有两种方法可以使用 CIS 基准：

*   从[单独下载所需平台的基准测试 https://www.cisecurity.org/cis-benchmarks/](https://www.cisecurity.org/cis-benchmarks/) 然后根据基准手动验证配置。
*   使用自动化工具根据 CIS 基准评估目标平台，如 CIS CAT 工具。CIS CAT 工具可从[获取 https://learn.cisecurity.org/cis-cat-landing-page](https://learn.cisecurity.org/cis-cat-landing-page) 。

CIS CAT 工具的免费版本仅支持评估有限数量的基准，而专业版本允许评估所有可用的 CIS 基准。

以下屏幕截图显示了 CIS CAT 工具的启动屏幕：

![](assets/79b8a668-da60-4c7b-befe-ea97acfd8998.png)

我们选择 CIS Google Chrome 基准进行评估。然后，我们需要选择需要包含在评估中的配置文件，如下面的屏幕截图所示。1 级配置文件通常具有最重要和最基本的检查，需要进行评估，而 2 级配置文件具有可根据上下文选择的检查：

![](assets/8276cee4-2b38-4cb3-ae80-fcb95b86f753.png)

现在，我们选择输出格式和生成报告的位置，如以下屏幕截图所示：

![](assets/e923d4bb-f427-4aca-ad5a-1c9d3e85ce10.png)

现在，我们可以查看评估摘要，然后启动扫描，如下图所示。

![](assets/6d10142e-184d-4cea-9b68-b50115a965c9.png)

一旦我们开始评估，CIS CAT 工具将在目标 Chrome 安装上运行所有与 Chrome 相关的预定义检查，如以下屏幕截图所示：

![](assets/8edb0489-a765-47f4-8170-45a3284f3ebb.png)

评估完成后，CIS CAT 工具将向我们显示哪些检查通过，哪些检查失败，如以下屏幕截图所示。此外，在预配置的目录中生成 HTML 格式的详细报告：

![](assets/3b27147f-6fbd-41f7-8c42-41431c9d627c.png)

# 总结

在本章中，我们了解了修补的相关性以及安全配置在保护应用程序生态系统中的作用。在下一章中，我们将学习报告的各个方面以及安全度量的重要性。